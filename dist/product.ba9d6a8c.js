var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire2c23;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var c={id:e,exports:{}};return t[e]=c,r.call(c.exports,c,c.exports),c.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire2c23=r);var c=r("li1Mx"),a=r("1tHc5"),o=(c=r("li1Mx"),r("etBjH"));var i=r("6naOk");const d=document.getElementById("productInfo"),s=document.getElementById("productAssets");let l,u=[];async function g(){const e=function(e){const t=window.location.search;return new URLSearchParams(t).get(e)}("id");!function(e){s.innerHTML=`\n    <img src="${e.image[0]}" class="product__mainImg" id="mainImg"></img>`,d.innerHTML=`\n        <h1 class="product__name">${e.name}</h1>\n        <p class="product__description">${e.description}</p>\n        <p class="product__price">${function(e){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(e)}(e.price)}</p>\n        <button class="product__addCart">Añadir al carrito</button>`,e.image.length>1&&function(e){const t=document.getElementById("mainImg"),n=document.createElement("div");n.className="product__gallery",e.forEach((e=>{n.innerHTML+=`<img src="${e}" class="product__img"></img>`})),s.appendChild(n);document.querySelector(".product__gallery").addEventListener("click",(e=>{"IMG"===e.target.tagName&&t.setAttribute("src",e.target.currentSrc)}))}(e.image);document.querySelector(".product__addCart").addEventListener("click",(async t=>{console.log("añadir"),u.push(e),async function(e){localStorage.setItem("cart",JSON.stringify(e))}(u),l&&await i.createFirebaseCart(c.db,l.uid,u)}))}({...await async function(e){const t=o.doc(c.db,"products",e);try{return(await o.getDoc(t)).data()}catch(e){console.log(e)}}(e),id:e})}a.onAuthStateChanged(c.auth,(async e=>{e?(l=e,console.log(e),u=await i.getFirebaseCart(c.db,l.uid),console.log(u)):u=function(){const e=localStorage.getItem("cart");return e?JSON.parse(e):[]}(),g()}));
//# sourceMappingURL=product.ba9d6a8c.js.map
